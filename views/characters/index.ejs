<%- include('../partials/html-head') %>
<%- include('../partials/sidebar') %>
<link 
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
  rel="stylesheet" 
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
  crossorigin="anonymous"
>
<link rel="stylesheet" href="/stylesheets/style.css" />
<%- include('../partials/nav') %>

<section>
  <h1>Choose Your Character</h1>
  <main id="cardBg">
    <div class="container py-5 px-3">
      <div 
        class="row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g1 px-4"
      >
        <% characters.forEach(character => { %>
          <div class="col">
            <a class="text-decoration-none" href="/characters/<%= character._id %>">
              <div class="card mb-4 shadow-sm" id="cardview">
                <div class="card-body">
                  <p id="charName" class="card-title fs-3 text-dark">
                    <%= character.name %></p>
                  <% if (character.avatar) { %>
                    <img id="charImg"
                      class="card-img-top"
                      src="<%= character.avatar %>"
                      alt="<%= character.name %>'s avatar"
                      width="100%"
                    />
                  <% } else {%>
                    <img id="charImg"
                      class="card-img-top"
                      src="https://picsum.photos/200"
                      alt="A placeholder avatar"
                      width="100%"
                    />
                  <% } %>
              </div>
                <footer id="foot" class="blockquote-footer">Created by <cite> <%= character.owner.name %></cite> </cite></footer>

              </div>
            </a>
          </div>
          <% }) %>
      </div>
    </div>
  </main>
  


<%- include('../partials/footer') %>
